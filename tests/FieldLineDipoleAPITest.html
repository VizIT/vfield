<!DOCTYPE html>
<html>
  <head>
    <title>Field Line Dipole API Test</title>
    <meta   http-equiv="Content-Type" content="text/html;charset=utf-8" >
    <meta   name="viewport"           content="width=device-width, initial-scale=1.0">

    <!-- Tests load each script individually to allow easier debugging and issue tracking. -->
    <script type="text/javascript"    src="../../lesson/js/DirectEventHandler.js"></script>
    <script type="text/javascript"    src="../../lesson/js/MappingEventHandler.js"></script>
    <script type="text/javascript"    src="../../lesson/js/IdRegistry.js"></script>
    <script type="text/javascript"    src="../../lesson/js/RangedSource.js"></script>
    <script type="text/javascript"    src="../../lesson/js/LessonBuilder.js"></script>
    <script type="text/javascript"    src="../js/EnsureNumber.js"></script>
    <script type="text/javascript"    src="../js/toBoolean.js"></script>
    <script type="text/javascript"    src="../js/MotionEventHandler.js"></script>
    <script type="text/javascript"    src="../js/GLUtility.js"></script>
    <script type="text/javascript"    src="../js/Color.js"></script>
    <script type="text/javascript"    src="../js/Geometry.js"></script>
    <script type="text/javascript"    src="../js/SurfaceRenderer.js"></script>
    <script type="text/javascript"    src="../js/IndexedVertices.js"></script>
    <script type="text/javascript"    src="../js/LineRenderer.js"></script>
    <script type="text/javascript"    src="../js/SimpleVectorField.js"></script>
    <script type="text/javascript"    src="../js/CountdownLatch.js"></script>
    <script type="text/javascript"    src="../js/ChargeGenerator.js"></script>
    <script type="text/javascript"    src="../js/ChargeRenderer.js"></script>
    <script type="text/javascript"    src="../js/FieldLineVBO.js"></script>
    <script type="text/javascript"    src="../js/FieldLineRenderer.js"></script>
    <script type="text/javascript"    src="../js/FieldLine.js"></script>
    <script type="text/javascript"    src="../js/FieldLineGenerator.js"></script>
    <script type="text/javascript"    src="../js/FieldLineRenderer.js"></script>
    <script type="text/javascript"    src="../js/Cylinder.js"></script>
    <script type="text/javascript"    src="../js/GaussianCylinder.js"></script>
    <script type="text/javascript"    src="../js/GaussianSphere.js"></script>
    <script type="text/javascript"    src="../js/ChargedCylinder.js"></script>
    <script type="text/javascript"    src="../js/ChargedLine.js"></script>
    <script type="text/javascript"    src="../js/ChargedPlane.js"></script>
    <script type="text/javascript"    src="../js/ChargedSphere.js"></script>
    <script type="text/javascript"    src="../js/Charges.js"></script>
    <script type="text/javascript"    src="../js/ElectricField.js"></script>
    <script type="text/javascript"    src="../js/VectorFunction.js"></script>
    <script type="text/javascript"    src="../js/CombinedVectorFunctions.js"></script>
    <script type="text/javascript"    src="../js/VectorFieldGenerator.js"></script>
    <script type="text/javascript"    src="../js/FieldRenderer.js"></script>
    <script type="text/javascript"    src="../js/SurfaceBuilder.js"></script>
    <script type="text/javascript"    src="../js/DistributionBuilder.js"></script>
    <script type="text/javascript"    src="../js/ChargesBuilder.js"></script>
    <script type="text/javascript"    src="../js/BindingBuilder.js"></script>
    <script type="text/javascript"    src="../js/ElectricFieldElementBuilder.js"></script>
    <script type="text/javascript"    src="../js/ElectricFieldBuilder.js"></script>
    <script type="text/javascript"    src="../js/CombinedVectorValuedFunctionBuilder.js"></script>
    <script type="text/javascript"    src="../js/VectorValuedFunctionBuilder.js"></script>
    <script type="text/javascript"    src="../js/SimpleVectorFieldBuilder.js"></script>
    <script type="text/javascript"    src="../js/VizBuilder.js"></script>
  </head>
  <body>
    <canvas id="drawingSurface" width="300" height="300"></canvas>

    <!-- Make explicit API calls rather than use a configuration. -->
    <script type="text/javascript">

      var charges;
      var framework;
      var drawingSurface;
      var renderer;

      /*
       * Create the charges and package them into a charges collection. Edit this
       * to change the charge configuration modeled in this illustration.
       */
      function placeCharges(fieldRenderer)
      {
        var charge1;
        var charge2;

        // Each charge has a charge, then x, y, z coordinates.
        // Each of these is a floating point number.
        charge1 = new vizit.electricfield.Charge(-20.0,   0.0, 0.0,  20.0, 0.7);
        charge2 = new vizit.electricfield.Charge( 20.0,   0.0, 0.0, -20.0, 0.7);

        charges = new vizit.electricfield.Charges();
        charges.addCharge(charge1);
        charges.addCharge(charge2);

        return charges;
      }

      drawingSurface = document.getElementById('drawingSurface');

      renderer       = new vizit.electricfield.ElectricField();

      charges        = placeCharges();
      renderer.setCharges(charges);
      renderer.setArrowHeadSize(1.5);
      renderer.setArrowSpacing(14.0);

      framework      = new vizit.field.FieldRenderer(drawingSurface);
      framework.setRenderer(renderer);
      framework.setScale(50.0);

      framework.start();
  </script>
</body>
</html>
